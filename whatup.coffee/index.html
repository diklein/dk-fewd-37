<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <link rel="stylesheet" href="reset.css" media="screen" charset="utf-8">
      <link rel="stylesheet" href="main.css" media="screen" charset="utf-8">
      <link rel="stylesheet" href="animation.css" media="screen" charset="utf-8">
      <title>whatup.coffee</title>
      <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
   </head>
   <body>

      <!-- intro -->
      <div class="wrap" id="intro">
         <div class="left-col title">
            <h1>whatup coffee</h1>
         </div>
         <div class="right-col title">
            <a href="/" class="next-btn" id="go-supplies">Let's go&nbsp;&#8594;</a>
         </div>
      </div>

      <!-- supplies -->
      <div class="wrap hide" id="supplies">
         <div class="left-col title">
            <h1>supplies</h1>
         </div>
         <div class="right-col">
            <div class="header">
               <a href="/" class="next-btn" id="go-prep">Prep&nbsp;&#8594;</a>
            </div>
            <section class="main">
               <p class="headline">Hario V60</p>
               <p class="content">
                  In this tutorial we are going to use the <a href="http://www.amazon.com/Hario-VDGN-02B-Glass-Coffee-Dripper/dp/B00JRY42H2/ref=sr_1_8?s=kitchen&ie=UTF8&qid=1453342231&sr=1-8&keywords=hario+v60">Hario V60</a>. After spending several years advocating and adoring the <a href="http://www.amazon.com/Chemex-6-Cup-Classic-Glass-Coffee/dp/B0000YWF5E/ref=sr_1_1?s=kitchen&ie=UTF8&qid=1453342300&sr=1-1&keywords=chemex">Chemex</a> and <a href="http://www.amazon.com/gp/product/B000GXZ2GS/ref=s9_al_bw_g79_i2">Aeropress</a>, I finally switched to the Hario family. I find its aesthetic and taste to be particularly high quality.
               </p>
               <img src="http://placehold.it/600x600" alt="hario v60" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Grinder</p>
               <p class="content">
                  Burr, baby. Burr. You must use a burr grinder to properly crush the beans in a consistent size. A grinder that uses blades will leave you with different size grounds. When I'm traveling I use the <a href="http://www.amazon.com/Porlex-Mini-Stainless-Coffee-Grinder/dp/B0044ZA066/ref=sr_1_6?ie=UTF8&qid=1453342775&sr=8-6&keywords=mini+coffee+grinder">Porlex Mini</a>. A proper vacation coffee kit must be discussed in an entirely separate discussion. In my kitchen, however, I use the <a href="http://www.amazon.com/Bodum-Bistro-Electric-Coffee-Grinder/dp/B0043095WW/ref=sr_1_1?ie=UTF8&qid=1453342881&sr=8-1&keywords=bodum+burr+grinder">Bodum Bistro</a>. It's easy to experiment with grind settings by just slightly twisting the container. Watch out if you have roommates; it can be quite noisy. But who cares, right? You need your coffee.
               </p>
               <img src="http://placehold.it/600x600" alt="bodum grinder" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Scale</p>
               <p class="content">
                  Wait, you don't weigh everything when you make coffee? Time to step up your game with the <a href="http://www.amazon.com/Hario-Coffee-Drip-Scale-Timer/dp/B009GPJMOU/ref=sr_1_1?s=kitchen&ie=UTF8&qid=1453343556&sr=1-1&keywords=hario+scale">Hario Scale</a>. 400 grams of water for 25 grams of coffee grounds. Easy. If you want stronger (giddy up) or weaker coffee, just remember to start with the ratio 16:1. If you don't like how it tastes, experiment! Try 15:1 or 17:1. Don't let anyone tell you what kind of coffee you like
               </p>
               <img src="http://placehold.it/600x600" alt="hario scale" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Stand</p>
               <p class="content">
                  The <a href="http://www.amazon.com/dp/B00A4ZGCKI/ref=sr_ph?ie=UTF8&qid=1453343515&sr=1&keywords=hario+stand">Hario VSS-1T Acrylic Stand</a> is what ties it all together as a beautiful addition to your kitche. It connects the Hario scale to the Hario V60 into one Megazord product. Yes, that is a Power Rangers reference.
               </p>
               <img src="http://placehold.it/600x600" alt="hario stand" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Kettle</p>
               <p class="content">
                  The water's temperature should be just under boiling. If it's too hot you will burn the grounds. That's why you need a <a href="http://www.amazon.com/Bonavita-Variable-Temperature-Electric-Gooseneck/dp/B005YR0F40/ref=sr_1_4?ie=UTF8&qid=1453345254&sr=8-4&keywords=hario+kettle">Bonavita Variable Temperature Kettle</a> which can precisely heat water between the preferable range of 195째F and 205째F. I recommend 205째F, but this another area you can feel free to experiment with.
               </p>
               <img src="http://placehold.it/600x600" alt="bonavita kettle" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Water</p>
               <p class="content">
                  Coffee, like your bod, is primarily water, and that water better be clean. The <a href="http://www.amazon.com/Soma-Sustainable-Carafe-Plant-Based-Filter/dp/B00WFY7LCE/ref=sr_1_4?ie=UTF8&qid=1453343798&sr=8-4&keywords=soma+water+filter">Soma Carafe</a> is the only filter that is elegant enough to stand next to the Hario setup.
               </p>
               <img src="http://placehold.it/600x600" alt="soma filter" width="600px" height="600px" class="content-img" />
            </section>
         </div>
      </div>

      <!-- prep -->
      <div class="wrap hide" id="prep">
         <div class="left-col title">
            <h1>prep</h1>
         </div>
         <div class="right-col">
            <div class="header">
               <a href="/" class="next-btn" id="go-make">Make&nbsp;&#8594;</a>
            </div>
            <section class="main">
               <p class="headline">Insert the filter</p>
               <p class="content">
                  Place a mug on top of the stand's drip tray, and insert a filter into the V60.<br />
               </p>
               <img src="http://placehold.it/600x600" alt="insert filter" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Heat it up</p>
               <p class="content">
                  Heat the water to 205째F.
               </p>
               <img src="http://placehold.it/600x600" alt="heat the water" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Soak the filter</p>
               <p class="content">
                  Pour several drops of water onto the filter to soak it.<br />
                  Don't forget to empty the water from your mug otherwise you'll dilute the coffee.
               </p>
               <img src="http://placehold.it/600x600" alt="soak the filter" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Weigh the grounds</p>
               <p class="content">
                  Turn on the scale so it reads 0.0 grams.<br />
                  Pour the grounds into the V60 until the scale reads 25.0 grams. It's okay if you're off by a tenth of a gram. Don't be so hard on yourself.
               </p>
               <img src="http://placehold.it/600x600" alt="weigh the grounds" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Bloom</p>
               <p class="content">
                  Reset the scale so it reads 0.0 again.<br />
                  Slowly pour the hot water onto the grounds in a circular motion. Stop once you get all of the grounds wet. Aim for only pouring 60 grams of water during this first pour. The goal is to get the grounds to wake up.
               </p>
               <img src="http://placehold.it/600x600" alt="first pour" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Stir</p>
               <p class="content">
                  After your grounds have bloomed, scoop each quarter of the filter with a spoon.
               </p>
               <img src="http://placehold.it/600x600" alt="stir grounds" width="600px" height="600px" class="content-img" />
            </section>
            <section class="main">
               <p class="headline">Continue pouring</p>
               <p class="content">
                  Continue pouring slowly in a circular motion until the scale says 400 grams. Don't pour water directly on the filter. The entire process from the first drop on the grounds to 400 grams should take between 2:30 and 3:00 minutes.<br />
                  Don't worry; the next screen will walk you through this process!
               </p>
               <img src="http://placehold.it/600x600" alt="stir grounds" width="600px" height="600px" class="content-img" />
            </section>
         </div>
      </div>

      <!-- make -->
      <div class="wrap hide" id="make">
         <div class="left-col title">
            <h1>make</h1>
         </div>
         <div class="right-col">
            <div class="header">
               <a href="/" class="next-btn" id="go-share">Share&nbsp;&#8594;</a>
            </div>
            <section class="main">
               <p class="headline">Soak filter</p>
               <button class="action-btn" id="soak-btn">Done</button>
               <!-- p class="headline">Bloom</p>
               <button class="action-btn" id="bloom-btn">Done</button -->
               <p class="headline">Pour</p>
               <button class="action-btn" id="pour-btn">Start</button>
               <p class="headline">Enjoy</p>
               <button class="action-btn" id="enjoy-btn">Done</button>
            </section>
         </div>
      </div>

      <!-- timer -->
      <div class="timer-modal hide" id="timer-modal">
         <div class="timer-value"><span id="minutes">&nbsp;&nbsp;</span><span id="colon">:</span><span id="seconds">&nbsp;&nbsp;</span></div>
         <div class="clear"></div>
         <button class="action-btn close-btn" id="close-btn">Done</button>
      </div>

      <!-- share -->
      <div class="wrap hide" id="share">
         <div class="left-col title">
            <h1>share</h1>
         </div>
         <div class="right-col">
            <section class="main">
               <p class="headline">Tell your friends</p>
               <div class="share-buttons">
                  <a href="http://www.facebook.com/share.php?u=http://whatup.coffee" class="action-btn facebook">Facebook</a>
                  <a href="https://twitter.com/intent/tweet?url=http://whatup.coffee/&amp;text=Best coffee lesson ever&amp;via=diklein" class="action-btn twitter">Twitter</a>
               </div>

               <div class="comments">
                  <p class="headline">What do you think</p>
                  <div class="leave-comment">
                     <form class="main-form">
                        <input type="text" class="form-message">
                        <button class="action-btn form-btn">Comment</button>
                     </form>
                  </div>
               </div>
            </section>
         </div>
      </div>


      <!-- javascript -->
      <script type="text/javascript">

         // make buttons
         var suppliesBtn = document.querySelector("#go-supplies");
         suppliesBtn.addEventListener("click", suppliesPage);
         var prepBtn = document.querySelector("#go-prep");
         prepBtn.addEventListener("click", prepPage);
         var makeBtn = document.querySelector("#go-make")
         makeBtn.addEventListener("click", makePage);
         var soakBtn = document.querySelector("#soak-btn")
         soakBtn.addEventListener("click", soakDone);
         // var bloomBtn = document.querySelector("#bloom-btn")
         // bloomBtn.addEventListener("click", bloomDone);
         var pourBtn = document.querySelector("#pour-btn")
         pourBtn.addEventListener("click", startTimer);
         var enjoyBtn = document.querySelector("#enjoy-btn")
         enjoyBtn.addEventListener("click", enjoyDone);
         var closeBtn = document.querySelector("#close-btn")
         closeBtn.addEventListener("click", closeTimer);
         var shareBtn = document.querySelector("#go-share")
         shareBtn.addEventListener("click", sharePage);

         // make classes
         var introContent = document.querySelector("#intro");
         var suppliesContent = document.querySelector("#supplies");
         var prepContent = document.querySelector("#prep");
         var makeContent = document.querySelector("#make");
         var timerModal = document.querySelector("#timer-modal");
         var shareContent = document.querySelector("#share");

         var seconds = 0;

         // firebase init
         var firebase = new Firebase("https://flickering-heat-2108.firebaseio.com");
         var form = document.querySelector(".main-form");
         form.addEventListener("submit", sendMessage);

         // listen for new messages
         firebase.on('child_added', createMessage);
         function createMessage(snapshot) {

            var messageData = snapshot.val();

            // set up variables
            var divContainer = document.createElement("div");
            var divTime = document.createElement("div");
            var divText = document.createElement("div");

            // append divs
            divContainer.appendChild(divTime);
            divText.textContent = messageData.messageBody;
            var createdAt = new Date(messageData.createdAt);
            divTime.textContent = strftime('%m/%d/%y %l:%M%P', createdAt);
            divContainer.appendChild(divText);
            document.querySelector(".comments").appendChild(divContainer);

            // add classes
            divText.classList.add("content");
            divContainer.classList.add("container");
            divTime.classList.add("time");


         }; // end of listening

         // send message
         function sendMessage(event) {
            event.preventDefault();
            var now = new Date();
            var message = {
               messageBody: document.querySelector(".form-message").value,
               createdAt: now.getTime()
            };
            firebase.push(message);
            form.reset();

         }; // end of sending message


         // functions
         function suppliesPage(event) {
            event.preventDefault();
            introContent.classList.add("hide");
            suppliesContent.classList.remove("hide");
         }

         function prepPage(event) {
            event.preventDefault();
            suppliesContent.classList.add("hide");
            prepContent.classList.remove("hide");
         }

         function makePage(event) {
            event.preventDefault();
            prepContent.classList.add("hide");
            makeContent.classList.remove("hide");
         }

         function sharePage(event) {
            event.preventDefault();
            makeContent.classList.add("hide");
            shareContent.classList.remove("hide");
         }

         function soakDone(event) {
            event.preventDefault();
            soakBtn.classList.add("action-btn-done");
         }

         // function bloomDone(event) {
         //    event.preventDefault();
         //    bloomBtn.classList.add("action-btn-done");
         // }

         function startTimer(event) {
            event.preventDefault();
            timerModal.classList.remove("hide");
            setInterval(incrementSeconds, 1000);
         }

         function incrementSeconds() {
            seconds++;
            reportSeconds(seconds);
            reportMinutes(seconds);

            if(seconds > 150 && seconds < 180) {
               document.querySelector("#seconds").classList.add("caution");
               document.querySelector("#minutes").classList.add("caution");
               document.querySelector("#colon").classList.add("caution");
            }

            if(seconds > 180) {
               document.querySelector("#seconds").classList.remove("caution");
               document.querySelector("#minutes").classList.remove("caution");
               document.querySelector("#colon").classList.remove("caution");
               document.querySelector("#seconds").classList.add("burnt");
               document.querySelector("#minutes").classList.add("burnt");
               document.querySelector("#colon").classList.add("burnt");
            }

         }

         function reportSeconds(seconds) {
            if((seconds % 60) < 10) {
               document.querySelector("#seconds").textContent = "0" + seconds % 60;
            }
            else {
               document.querySelector("#seconds").textContent = seconds % 60;
            }
         }

         function reportMinutes(seconds) {
            document.querySelector("#minutes").textContent = Math.floor(seconds / 60);
         }

         function closeTimer(evnet) {
            event.preventDefault();
            timerModal.classList.add("hide");
            pourBtn.classList.add("action-btn-done");
            pourBtn.textContent = "Done";
         }

         function enjoyDone(event) {
            event.preventDefault();
            enjoyBtn.classList.add("action-btn-done");
         }

      </script>

      <script src="http://f.cl.ly/items/2K2Z2g0L3v1q1I413j1O/strftime%20githubcomsamsonjsstrf.txt"></script>
      <script src="https://use.typekit.net/cer1wvq.js"></script>
      <script>try{Typekit.load({ async: true });}catch(e){}</script>

   </body>
</html>
